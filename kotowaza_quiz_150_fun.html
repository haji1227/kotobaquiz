<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ことわざ・慣用句・故事成語クイズ</title>
  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background: #fdfdfd;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 1em;
    }
    h1 {
      font-size: 1.4em;
      margin-bottom: 1em;
    }
    .quiz-box {
      background: #ffffff;
      padding: 1.5em;
      border-radius: 0.8em;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 500px;
    }
    .question {
      margin-bottom: 1em;
      font-size: 1.1em;
    }
    .options button {
      display: block;
      width: 100%;
      margin: 0.4em 0;
      padding: 0.8em;
      font-size: 1em;
      font-weight: bold;
      border: 1px solid #ccc;
      border-radius: 0.5em;
      cursor: pointer;
      background: #f7f7f7;
      transition: background 0.3s, color 0.3s;
    }
    .options button:hover {
      background: #e0f0ff;
    }
    .result {
      margin-top: 1em;
      font-weight: bold;
      text-align: center;
    }
    .final-score {
      font-size: 1.4em;
      color: #0077cc;
      text-align: center;
      margin-top: 1em;
      animation: pop 0.5s ease-in-out;
    }
    @keyframes pop {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
</style>
</head>
<body>
  <h1>ことわざ・慣用句・故事成語クイズ</h1>
  <div class="quiz-box">
    <div class="question" id="question">Loading...</div>
    <div class="options">
      <button onclick="checkAnswer(this)"></button>
      <button onclick="checkAnswer(this)"></button>
      <button onclick="checkAnswer(this)"></button>
    </div>
    <div class="result" id="result"></div>
  </div>

  <script>
    const quizData = [{"type": "ことわざ", "phrase": "石の上にも三年", "meaning": "どんなに辛くても辛抱して続ければ成果が出る"}, {"type": "ことわざ", "phrase": "雨降って地固まる", "meaning": "トラブルの後には関係や状況がよくなることがある"}, {"type": "ことわざ", "phrase": "二兎を追う者は一兎をも得ず", "meaning": "欲張るとどちらも失う可能性がある"}, {"type": "ことわざ", "phrase": "千里の道も一歩から", "meaning": "大きな目標も小さな一歩から始まる"}, {"type": "ことわざ", "phrase": "立つ鳥跡を濁さず", "meaning": "去るときはきれいに後始末をするべきである"}, {"type": "ことわざ", "phrase": "能ある鷹は爪を隠す", "meaning": "実力のある者はそれを軽々しく見せびらかさない"}, {"type": "ことわざ", "phrase": "好事魔多し", "meaning": "うまくいっているときほど邪魔が入りやすい"}, {"type": "ことわざ", "phrase": "時は金なり", "meaning": "時間は貴重なものである"}, {"type": "ことわざ", "phrase": "猿も木から落ちる", "meaning": "その道の達人でも失敗することがある"}, {"type": "ことわざ", "phrase": "笑う門には福来る", "meaning": "明るく笑いの絶えない家庭には自然と幸福が訪れる"}, {"type": "ことわざ", "phrase": "石の上にも三年", "meaning": "どんなに辛くても辛抱して続ければ成果が出る"}, {"type": "ことわざ", "phrase": "雨降って地固まる", "meaning": "トラブルの後には関係や状況がよくなることがある"}, {"type": "ことわざ", "phrase": "二兎を追う者は一兎をも得ず", "meaning": "欲張るとどちらも失う可能性がある"}, {"type": "ことわざ", "phrase": "千里の道も一歩から", "meaning": "大きな目標も小さな一歩から始まる"}, {"type": "ことわざ", "phrase": "立つ鳥跡を濁さず", "meaning": "去るときはきれいに後始末をするべきである"}, {"type": "ことわざ", "phrase": "能ある鷹は爪を隠す", "meaning": "実力のある者はそれを軽々しく見せびらかさない"}, {"type": "ことわざ", "phrase": "好事魔多し", "meaning": "うまくいっているときほど邪魔が入りやすい"}, {"type": "ことわざ", "phrase": "時は金なり", "meaning": "時間は貴重なものである"}, {"type": "ことわざ", "phrase": "猿も木から落ちる", "meaning": "その道の達人でも失敗することがある"}, {"type": "ことわざ", "phrase": "笑う門には福来る", "meaning": "明るく笑いの絶えない家庭には自然と幸福が訪れる"}, {"type": "ことわざ", "phrase": "石の上にも三年", "meaning": "どんなに辛くても辛抱して続ければ成果が出る"}, {"type": "ことわざ", "phrase": "雨降って地固まる", "meaning": "トラブルの後には関係や状況がよくなることがある"}, {"type": "ことわざ", "phrase": "二兎を追う者は一兎をも得ず", "meaning": "欲張るとどちらも失う可能性がある"}, {"type": "ことわざ", "phrase": "千里の道も一歩から", "meaning": "大きな目標も小さな一歩から始まる"}, {"type": "ことわざ", "phrase": "立つ鳥跡を濁さず", "meaning": "去るときはきれいに後始末をするべきである"}, {"type": "ことわざ", "phrase": "能ある鷹は爪を隠す", "meaning": "実力のある者はそれを軽々しく見せびらかさない"}, {"type": "ことわざ", "phrase": "好事魔多し", "meaning": "うまくいっているときほど邪魔が入りやすい"}, {"type": "ことわざ", "phrase": "時は金なり", "meaning": "時間は貴重なものである"}, {"type": "ことわざ", "phrase": "猿も木から落ちる", "meaning": "その道の達人でも失敗することがある"}, {"type": "ことわざ", "phrase": "笑う門には福来る", "meaning": "明るく笑いの絶えない家庭には自然と幸福が訪れる"}, {"type": "ことわざ", "phrase": "石の上にも三年", "meaning": "どんなに辛くても辛抱して続ければ成果が出る"}, {"type": "ことわざ", "phrase": "雨降って地固まる", "meaning": "トラブルの後には関係や状況がよくなることがある"}, {"type": "ことわざ", "phrase": "二兎を追う者は一兎をも得ず", "meaning": "欲張るとどちらも失う可能性がある"}, {"type": "ことわざ", "phrase": "千里の道も一歩から", "meaning": "大きな目標も小さな一歩から始まる"}, {"type": "ことわざ", "phrase": "立つ鳥跡を濁さず", "meaning": "去るときはきれいに後始末をするべきである"}, {"type": "ことわざ", "phrase": "能ある鷹は爪を隠す", "meaning": "実力のある者はそれを軽々しく見せびらかさない"}, {"type": "ことわざ", "phrase": "好事魔多し", "meaning": "うまくいっているときほど邪魔が入りやすい"}, {"type": "ことわざ", "phrase": "時は金なり", "meaning": "時間は貴重なものである"}, {"type": "ことわざ", "phrase": "猿も木から落ちる", "meaning": "その道の達人でも失敗することがある"}, {"type": "ことわざ", "phrase": "笑う門には福来る", "meaning": "明るく笑いの絶えない家庭には自然と幸福が訪れる"}, {"type": "ことわざ", "phrase": "石の上にも三年", "meaning": "どんなに辛くても辛抱して続ければ成果が出る"}, {"type": "ことわざ", "phrase": "雨降って地固まる", "meaning": "トラブルの後には関係や状況がよくなることがある"}, {"type": "ことわざ", "phrase": "二兎を追う者は一兎をも得ず", "meaning": "欲張るとどちらも失う可能性がある"}, {"type": "ことわざ", "phrase": "千里の道も一歩から", "meaning": "大きな目標も小さな一歩から始まる"}, {"type": "ことわざ", "phrase": "立つ鳥跡を濁さず", "meaning": "去るときはきれいに後始末をするべきである"}, {"type": "ことわざ", "phrase": "能ある鷹は爪を隠す", "meaning": "実力のある者はそれを軽々しく見せびらかさない"}, {"type": "ことわざ", "phrase": "好事魔多し", "meaning": "うまくいっているときほど邪魔が入りやすい"}, {"type": "ことわざ", "phrase": "時は金なり", "meaning": "時間は貴重なものである"}, {"type": "ことわざ", "phrase": "猿も木から落ちる", "meaning": "その道の達人でも失敗することがある"}, {"type": "ことわざ", "phrase": "笑う門には福来る", "meaning": "明るく笑いの絶えない家庭には自然と幸福が訪れる"}, {"type": "慣用句", "phrase": "顔が広い", "meaning": "知り合いや人脈が多い"}, {"type": "慣用句", "phrase": "手を抜く", "meaning": "いい加減に作業をすること"}, {"type": "慣用句", "phrase": "目を通す", "meaning": "軽く読む、ざっと確認すること"}, {"type": "慣用句", "phrase": "足を引っ張る", "meaning": "他人の成功や進行を邪魔すること"}, {"type": "慣用句", "phrase": "肩の荷が下りる", "meaning": "責任や重荷がなくなって安心すること"}, {"type": "慣用句", "phrase": "口が堅い", "meaning": "秘密を守ることができる人"}, {"type": "慣用句", "phrase": "腹を割る", "meaning": "本音で話すこと"}, {"type": "慣用句", "phrase": "頭が上がらない", "meaning": "相手に引け目があって対等に振る舞えない"}, {"type": "慣用句", "phrase": "水を差す", "meaning": "順調な物事に邪魔をすること"}, {"type": "慣用句", "phrase": "話に花が咲く", "meaning": "会話が盛り上がること"}, {"type": "慣用句", "phrase": "顔が広い", "meaning": "知り合いや人脈が多い"}, {"type": "慣用句", "phrase": "手を抜く", "meaning": "いい加減に作業をすること"}, {"type": "慣用句", "phrase": "目を通す", "meaning": "軽く読む、ざっと確認すること"}, {"type": "慣用句", "phrase": "足を引っ張る", "meaning": "他人の成功や進行を邪魔すること"}, {"type": "慣用句", "phrase": "肩の荷が下りる", "meaning": "責任や重荷がなくなって安心すること"}, {"type": "慣用句", "phrase": "口が堅い", "meaning": "秘密を守ることができる人"}, {"type": "慣用句", "phrase": "腹を割る", "meaning": "本音で話すこと"}, {"type": "慣用句", "phrase": "頭が上がらない", "meaning": "相手に引け目があって対等に振る舞えない"}, {"type": "慣用句", "phrase": "水を差す", "meaning": "順調な物事に邪魔をすること"}, {"type": "慣用句", "phrase": "話に花が咲く", "meaning": "会話が盛り上がること"}, {"type": "慣用句", "phrase": "顔が広い", "meaning": "知り合いや人脈が多い"}, {"type": "慣用句", "phrase": "手を抜く", "meaning": "いい加減に作業をすること"}, {"type": "慣用句", "phrase": "目を通す", "meaning": "軽く読む、ざっと確認すること"}, {"type": "慣用句", "phrase": "足を引っ張る", "meaning": "他人の成功や進行を邪魔すること"}, {"type": "慣用句", "phrase": "肩の荷が下りる", "meaning": "責任や重荷がなくなって安心すること"}, {"type": "慣用句", "phrase": "口が堅い", "meaning": "秘密を守ることができる人"}, {"type": "慣用句", "phrase": "腹を割る", "meaning": "本音で話すこと"}, {"type": "慣用句", "phrase": "頭が上がらない", "meaning": "相手に引け目があって対等に振る舞えない"}, {"type": "慣用句", "phrase": "水を差す", "meaning": "順調な物事に邪魔をすること"}, {"type": "慣用句", "phrase": "話に花が咲く", "meaning": "会話が盛り上がること"}, {"type": "慣用句", "phrase": "顔が広い", "meaning": "知り合いや人脈が多い"}, {"type": "慣用句", "phrase": "手を抜く", "meaning": "いい加減に作業をすること"}, {"type": "慣用句", "phrase": "目を通す", "meaning": "軽く読む、ざっと確認すること"}, {"type": "慣用句", "phrase": "足を引っ張る", "meaning": "他人の成功や進行を邪魔すること"}, {"type": "慣用句", "phrase": "肩の荷が下りる", "meaning": "責任や重荷がなくなって安心すること"}, {"type": "慣用句", "phrase": "口が堅い", "meaning": "秘密を守ることができる人"}, {"type": "慣用句", "phrase": "腹を割る", "meaning": "本音で話すこと"}, {"type": "慣用句", "phrase": "頭が上がらない", "meaning": "相手に引け目があって対等に振る舞えない"}, {"type": "慣用句", "phrase": "水を差す", "meaning": "順調な物事に邪魔をすること"}, {"type": "慣用句", "phrase": "話に花が咲く", "meaning": "会話が盛り上がること"}, {"type": "慣用句", "phrase": "顔が広い", "meaning": "知り合いや人脈が多い"}, {"type": "慣用句", "phrase": "手を抜く", "meaning": "いい加減に作業をすること"}, {"type": "慣用句", "phrase": "目を通す", "meaning": "軽く読む、ざっと確認すること"}, {"type": "慣用句", "phrase": "足を引っ張る", "meaning": "他人の成功や進行を邪魔すること"}, {"type": "慣用句", "phrase": "肩の荷が下りる", "meaning": "責任や重荷がなくなって安心すること"}, {"type": "慣用句", "phrase": "口が堅い", "meaning": "秘密を守ることができる人"}, {"type": "慣用句", "phrase": "腹を割る", "meaning": "本音で話すこと"}, {"type": "慣用句", "phrase": "頭が上がらない", "meaning": "相手に引け目があって対等に振る舞えない"}, {"type": "慣用句", "phrase": "水を差す", "meaning": "順調な物事に邪魔をすること"}, {"type": "慣用句", "phrase": "話に花が咲く", "meaning": "会話が盛り上がること"}, {"type": "故事成語", "phrase": "臥薪嘗胆", "reading": "がしんしょうたん", "meaning": "目的達成のために苦労を重ねる"}, {"type": "故事成語", "phrase": "四面楚歌", "reading": "しめんそか", "meaning": "味方がいなくて孤立すること"}, {"type": "故事成語", "phrase": "五里霧中", "reading": "ごりむちゅう", "meaning": "先が見えず見通しが立たない"}, {"type": "故事成語", "phrase": "大器晩成", "reading": "たいきばんせい", "meaning": "大物はゆっくり成長する"}, {"type": "故事成語", "phrase": "一石二鳥", "reading": "いっせきにちょう", "meaning": "一つのことで二つの利益を得る"}, {"type": "故事成語", "phrase": "画竜点睛", "reading": "がりょうてんせい", "meaning": "最後の仕上げが肝心であること"}, {"type": "故事成語", "phrase": "青天白日", "reading": "せいてんはくじつ", "meaning": "潔白であること"}, {"type": "故事成語", "phrase": "因果応報", "reading": "いんがおうほう", "meaning": "善悪の行いには必ず報いがある"}, {"type": "故事成語", "phrase": "一触即発", "reading": "いっしょくそくはつ", "meaning": "今にも何かが起こりそうな危険な状態"}, {"type": "故事成語", "phrase": "温故知新", "reading": "おんこちしん", "meaning": "古きをたずねて新しきを知る"}, {"type": "故事成語", "phrase": "臥薪嘗胆", "reading": "がしんしょうたん", "meaning": "目的達成のために苦労を重ねる"}, {"type": "故事成語", "phrase": "四面楚歌", "reading": "しめんそか", "meaning": "味方がいなくて孤立すること"}, {"type": "故事成語", "phrase": "五里霧中", "reading": "ごりむちゅう", "meaning": "先が見えず見通しが立たない"}, {"type": "故事成語", "phrase": "大器晩成", "reading": "たいきばんせい", "meaning": "大物はゆっくり成長する"}, {"type": "故事成語", "phrase": "一石二鳥", "reading": "いっせきにちょう", "meaning": "一つのことで二つの利益を得る"}, {"type": "故事成語", "phrase": "画竜点睛", "reading": "がりょうてんせい", "meaning": "最後の仕上げが肝心であること"}, {"type": "故事成語", "phrase": "青天白日", "reading": "せいてんはくじつ", "meaning": "潔白であること"}, {"type": "故事成語", "phrase": "因果応報", "reading": "いんがおうほう", "meaning": "善悪の行いには必ず報いがある"}, {"type": "故事成語", "phrase": "一触即発", "reading": "いっしょくそくはつ", "meaning": "今にも何かが起こりそうな危険な状態"}, {"type": "故事成語", "phrase": "温故知新", "reading": "おんこちしん", "meaning": "古きをたずねて新しきを知る"}, {"type": "故事成語", "phrase": "臥薪嘗胆", "reading": "がしんしょうたん", "meaning": "目的達成のために苦労を重ねる"}, {"type": "故事成語", "phrase": "四面楚歌", "reading": "しめんそか", "meaning": "味方がいなくて孤立すること"}, {"type": "故事成語", "phrase": "五里霧中", "reading": "ごりむちゅう", "meaning": "先が見えず見通しが立たない"}, {"type": "故事成語", "phrase": "大器晩成", "reading": "たいきばんせい", "meaning": "大物はゆっくり成長する"}, {"type": "故事成語", "phrase": "一石二鳥", "reading": "いっせきにちょう", "meaning": "一つのことで二つの利益を得る"}, {"type": "故事成語", "phrase": "画竜点睛", "reading": "がりょうてんせい", "meaning": "最後の仕上げが肝心であること"}, {"type": "故事成語", "phrase": "青天白日", "reading": "せいてんはくじつ", "meaning": "潔白であること"}, {"type": "故事成語", "phrase": "因果応報", "reading": "いんがおうほう", "meaning": "善悪の行いには必ず報いがある"}, {"type": "故事成語", "phrase": "一触即発", "reading": "いっしょくそくはつ", "meaning": "今にも何かが起こりそうな危険な状態"}, {"type": "故事成語", "phrase": "温故知新", "reading": "おんこちしん", "meaning": "古きをたずねて新しきを知る"}, {"type": "故事成語", "phrase": "臥薪嘗胆", "reading": "がしんしょうたん", "meaning": "目的達成のために苦労を重ねる"}, {"type": "故事成語", "phrase": "四面楚歌", "reading": "しめんそか", "meaning": "味方がいなくて孤立すること"}, {"type": "故事成語", "phrase": "五里霧中", "reading": "ごりむちゅう", "meaning": "先が見えず見通しが立たない"}, {"type": "故事成語", "phrase": "大器晩成", "reading": "たいきばんせい", "meaning": "大物はゆっくり成長する"}, {"type": "故事成語", "phrase": "一石二鳥", "reading": "いっせきにちょう", "meaning": "一つのことで二つの利益を得る"}, {"type": "故事成語", "phrase": "画竜点睛", "reading": "がりょうてんせい", "meaning": "最後の仕上げが肝心であること"}, {"type": "故事成語", "phrase": "青天白日", "reading": "せいてんはくじつ", "meaning": "潔白であること"}, {"type": "故事成語", "phrase": "因果応報", "reading": "いんがおうほう", "meaning": "善悪の行いには必ず報いがある"}, {"type": "故事成語", "phrase": "一触即発", "reading": "いっしょくそくはつ", "meaning": "今にも何かが起こりそうな危険な状態"}, {"type": "故事成語", "phrase": "温故知新", "reading": "おんこちしん", "meaning": "古きをたずねて新しきを知る"}, {"type": "故事成語", "phrase": "臥薪嘗胆", "reading": "がしんしょうたん", "meaning": "目的達成のために苦労を重ねる"}, {"type": "故事成語", "phrase": "四面楚歌", "reading": "しめんそか", "meaning": "味方がいなくて孤立すること"}, {"type": "故事成語", "phrase": "五里霧中", "reading": "ごりむちゅう", "meaning": "先が見えず見通しが立たない"}, {"type": "故事成語", "phrase": "大器晩成", "reading": "たいきばんせい", "meaning": "大物はゆっくり成長する"}, {"type": "故事成語", "phrase": "一石二鳥", "reading": "いっせきにちょう", "meaning": "一つのことで二つの利益を得る"}, {"type": "故事成語", "phrase": "画竜点睛", "reading": "がりょうてんせい", "meaning": "最後の仕上げが肝心であること"}, {"type": "故事成語", "phrase": "青天白日", "reading": "せいてんはくじつ", "meaning": "潔白であること"}, {"type": "故事成語", "phrase": "因果応報", "reading": "いんがおうほう", "meaning": "善悪の行いには必ず報いがある"}, {"type": "故事成語", "phrase": "一触即発", "reading": "いっしょくそくはつ", "meaning": "今にも何かが起こりそうな危険な状態"}, {"type": "故事成語", "phrase": "温故知新", "reading": "おんこちしん", "meaning": "古きをたずねて新しきを知る"}];

    let currentQuestion;
    let questionCount = 0;
    let correctCount = 0;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function loadQuestion() {
      if (questionCount >= 10) {
        showFinalScore();
        return;
      }

      const index = Math.floor(Math.random() * quizData.length);
      currentQuestion = quizData[index];
      const sameType = quizData.filter(q => q.type === currentQuestion.type && q.phrase !== currentQuestion.phrase);
      shuffle(sameType);
      const options = [currentQuestion.phrase, sameType[0]?.phrase, sameType[1]?.phrase].filter(Boolean);
      shuffle(options);

      document.getElementById('question').textContent = `「${currentQuestion.meaning}」という意味の${currentQuestion.type}は？`;
      const buttons = document.querySelectorAll('.options button');
      buttons.forEach((btn, i) => {
        btn.textContent = options[i] || '';
        btn.dataset.answer = options[i] || '';
        btn.style.display = options[i] ? 'block' : 'none';
      });
      document.getElementById('result').textContent = '';
    }

    function checkAnswer(button) {
      const selected = button.dataset.answer;
      const correct = currentQuestion.phrase;
      const result = document.getElementById('result');
      if (selected === correct) {
        correctCount++;
        result.textContent = `正解！「${correct}」${currentQuestion.type === '故事成語' ? `（${currentQuestion.reading}）` : ''}`;
      } else {
        result.textContent = `不正解... 正解は「${correct}」${currentQuestion.type === '故事成語' ? `（${currentQuestion.reading}）` : ''}`;
      }
      questionCount++;
      setTimeout(loadQuestion, 2000);
    }

    function showFinalScore() {
      const box = document.querySelector('.quiz-box');
      const msg = correctCount >= 8 ? "すごい！" : correctCount >= 5 ? "いい感じ！" : "また挑戦してね！";
      box.innerHTML = `
        <h2>クイズ終了！</h2>
        <div class="final-score">${correctCount} / 10 問正解！<br><strong>${msg}</strong></div>
      `;
    }

    loadQuestion();
  </script>
</body>
</html>
